# Как работать над проектом

## Окружение

Для удобства работы над проектом используются инструменты из **Node.js** и **npm**. Все необходимые настройки произведены. Убедитесь, что на рабочем компьютере установлен актуальный LTS релиз Node.js**. Актуальная версия **Node.js** указана в файле `package.json` в поле `node`. Затем, в терминале, перейдите в директорию с проектом и _единожды_ запустите команду:

```bash
npm install
```

Команда запустит процесс установки зависимостей проекта из **npm**.

## Переменные окружения

Формат: `PARAM=value — описание`.

```
PORT=4000 — Порт, на котором запускается REST API сервер.
SALT=secret_salt — Соль для хэширования паролей.
DB_HOST=127.0.0.1 — Хост MongoDB.
DB_USER=admin — Пользователь MongoDB.
DB_PASSWORD=admin — Пароль MongoDB.
DB_PORT=27018 — Порт MongoDB.
DB_NAME=six-cities — Название базы данных.
UPLOAD_DIRECTORY=upload — Директория для загружаемых файлов.
JWT_SECRET=secret_key_jwt — Секрет для подписи JWT.
JWT_EXPIRES_IN=2d — Время жизни JWT.
```

## Запуск проекта

1. Установить зависимости:

   `npm install`

2. Поднять MongoDB (вариант с Docker):

   - `docker compose up -d`

3. Создать `.env` на основе `.env.example`.
4. Собрать и запустить REST API:

   - `npm start`

### Сценарии

В `package.json` доступны сценарии:

- `start` — сборка и запуск REST API сервера.
- `start-dev` — сборка и запуск REST API сервера (dev-сценарий).
- `build` — полная сборка проекта.
- `compile` — компиляция TypeScript.
- `clean` — удаление директории `dist`.
- `lint` — проверка исходников ESLint.
- `ts` — запуск TS файла через ts-node.
- `cli` — запуск CLI приложения.
- `generate` — генерация тестовых данных (TSV) через CLI.
- `import:db` — импорт TSV в MongoDB через CLI.
- `mock:server` — запуск mock JSON сервера.

## Структура проекта

### Директория `src`

Исходный код проекта: компоненты, модули и так далее. Структура директории `src` может быть произвольной.

### Файл `Readme.md`

Инструкции по работе с учебным репозиторием.

### Файл `Contributing.md`

Советы и инструкции по внесению изменений в учебный репозиторий.

### Остальное

Все остальные файлы в проекте являются служебными. Пожалуйста, не удаляйте и не изменяйте их самовольно. Только если того требует задание или наставник.
